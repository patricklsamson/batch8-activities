"use strict";function docReady(e){"loading"!=document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&e()})}function body(e){return document.body.id==e}function $$(e){return document.getElementById(e)}function $s(e){return document.querySelector(e)}function $a(e){return document.querySelectorAll(e)}function addEvent(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent(t,i)}function removeEvent(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent&&e.detachEvent(t,i)}function addEvents(t,e,i){e.split(" ").forEach(function(e){return addEvent(t,e,i)})}function removeEvents(t,e,i){e.split(" ").forEach(function(e){return removeEvent(t,e,i)})}function addAtt(e,t,i){var n;e.setAttribute?e.setAttribute(t,i):((n=document.createAttribute(t)).value=i,e.setAttributeNode(n))}function hClass(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function aClass(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function rClass(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function tClass(e,t){var i,n;e.classList?e.classList.toggle(t):0<=(n=(i=e.className.split(" ")).indexOf(t))?i.splice(n,1):(i.push(t),e.className=i.join(" "))}function dataSet(e,t){return e.dataset.value?e.dataset.value:e.getAttribute("data-"+t)}function extendObj(e,t){if(void 0!==t)for(var i in e)null!=t[i]&&(e[i]=t[i])}function numOnly(e){var t=e.which?e.which:event.keyCode;return!(31<t&&(t<48||57<t))}function matchHeights(e){var t=0,i=$a(e),n=[];for(console.log(i),console.log(n),t=0;t<i.length;t++)n.push(i[t].offsetHeight);for(var r=Math.max.apply(Math,n),t=0;t<i.length;t++)i[t].style.height=r+"px"}var caro=window.caro||{},caro=function(){function e(e){var t=this;t.def={target:$s(".caro"),dotsWrapper:$s(".caro-dots"),arrowLeft:$s(".caro-prev"),arrowRight:$s(".caro-next"),autoplay:{on:!1,interval:5e3},transition:{speed:300,easing:""},swipe:!0,autoHeight:!0,afterChangeSlide:function(){}},extendObj(t.def,e),t.init()}return e.prototype.buildDots=function(){for(var t=this,e=0;e<t.totalSlides;e++){var i=document.createElement("span");addAtt(i,"data-slide",e+1),t.def.dotsWrapper.appendChild(i)}addEvent(t.def.dotsWrapper,"click",function(e){(e.target&&"SPAN"==e.target.nodeName||e.srcElement&&"SPAN"==e.srcElement.nodeName)&&(t.curSlide=e.target.getAttribute("data-slide"),t.gotoSlide())})},e.prototype.getCurLeft=function(){this.curLeft=parseInt(this.sliderInner.style.left.split("px")[0])},e.prototype.gotoSlide=function(){var e=this;e.sliderInner.style.transition="left "+e.def.transition.speed/1e3+"s "+e.def.transition.easing,e.sliderInner.style.left=-e.curSlide*e.slideW+"px",aClass(e.def.target,"isAnimating"),setTimeout(function(){e.sliderInner.style.transition="",rClass(e.def.target,"isAnimating")},e.def.transition.speed),e.setDot(),e.def.autoHeight&&(e.def.target.style.height=e.allSlides[e.curSlide].offsetHeight+"px"),e.def.afterChangeSlide(e)},e.prototype.init=function(){var e,t,r=this;addEvent(window,"resize",(e=function(){r.updateSliderDimension()},onresize=function(){clearTimeout(t),t=setTimeout(e,100)},onresize));var i=r.def.target.innerHTML;r.def.target.innerHTML='<div class="caro-inner">'+i+"</div>",r.allSlides=0,r.curSlide=0,r.curLeft=0,r.totalSlides=r.def.target.querySelectorAll(".slide").length,r.sliderInner=r.def.target.querySelector(".caro-inner"),r.loadedCnt=0;var n=r.def.target.querySelectorAll(".slide")[0].cloneNode(!0);r.sliderInner.appendChild(n);var s=r.def.target.querySelectorAll(".slide")[r.totalSlides-1].cloneNode(!0);r.sliderInner.insertBefore(s,r.sliderInner.firstChild),r.curSlide++,r.allSlides=r.def.target.querySelectorAll(".slide"),r.sliderInner.style.width=100*(r.totalSlides+2)+"%";for(var a=0;a<r.totalSlides+2;a++)r.allSlides[a].style.width=100/(r.totalSlides+2)+"%",function(e){var t=!1;function i(){t||(t=!0,r.loadedCnt++,r.loadedCnt>=r.totalSlides+2&&r.updateSliderDimension())}var n=e.querySelector("img");n?(n.onload=i,n.src=dataSet(n,"src"),n.style.display="block",n.complete&&i()):r.updateSliderDimension()}(r.allSlides[a]);function l(e){var t=e;if("touchmove"==e.type&&(t=e.targetTouches[0]||e.changedTouches[0]),r.moveX=t.clientX,r.moveY=t.clientY,!(Math.abs(r.moveX-r.startX)<40))return r.isAnimating=!0,aClass(r.def.target,"isAnimating"),e.preventDefault(),0<r.curLeft+r.moveX-r.startX&&0==r.curLeft?r.curLeft=-r.totalSlides*r.slideW:r.curLeft+r.moveX-r.startX<-(r.totalSlides+1)*r.slideW&&(r.curLeft=-r.slideW),r.sliderInner.style.left=r.curLeft+r.moveX-r.startX+"px",!1}function d(){r.getCurLeft(),0!==Math.abs(r.moveX-r.startX)&&(r.stayAtCur=Math.abs(r.moveX-r.startX)<40||void 0===r.moveX,r.dir=r.startX<r.moveX?"left":"right",r.stayAtCur||("left"==r.dir?r.curSlide--:r.curSlide++,r.curSlide<0?r.curSlide=r.totalSlides:r.curSlide==r.totalSlides+2&&(r.curSlide=1)),r.gotoSlide(),delete r.startX,delete r.startY,delete r.moveX,delete r.moveY,r.isAnimating=!1,rClass(r.def.target,"isAnimating"),removeEvents(r.sliderInner,"mousemove touchmove",l),removeEvents(document.body,"mouseup touchend",d))}r.buildDots(),r.setDot(),r.initArrows(),r.def.swipe&&addEvents(r.sliderInner,"mousedown touchstart",function(e){var t=e;r.getCurLeft(),r.isAnimating||("touchstart"==e.type&&(t=e.targetTouches[0]||e.changedTouches[0]),r.startX=t.clientX,r.startY=t.clientY,addEvents(r.sliderInner,"mousemove touchmove",l),addEvents(document.body,"mouseup touchend",d))}),r.isAnimating=!1},e.prototype.initArrows=function(){var e=this;""!=e.def.arrowLeft&&addEvent(e.def.arrowLeft,"click",function(){hClass(e.def.target,"isAnimating")||(1==e.curSlide&&(e.curSlide=e.totalSlides+1,e.sliderInner.style.left=-e.curSlide*e.slideW+"px"),e.curSlide--,setTimeout(function(){e.gotoSlide()},20))}),""!=e.def.arrowRight&&addEvent(e.def.arrowRight,"click",function(){hClass(e.def.target,"isAnimating")||(e.curSlide==e.totalSlides&&(e.curSlide=0,e.sliderInner.style.left=-e.curSlide*e.slideW+"px"),e.curSlide++,setTimeout(function(){e.gotoSlide()},20))}),e.def.autoplay.on&&setInterval(function(){hClass(e.def.target,"isAnimating")||(e.curSlide==e.totalSlides&&(e.curSlide=0,e.sliderInner.style.left=-e.curSlide*e.slideW+"px"),e.curSlide++,setTimeout(function(){e.gotoSlide()},500))},e.def.autoplay.interval)},e.prototype.setDot=function(){for(var e=this,t=e.curSlide-1,i=0;i<e.totalSlides;i++)rClass(e.def.dotsWrapper.querySelectorAll("span")[i],"active");e.curSlide-1<0?t=e.totalSlides-1:e.curSlide-1>e.totalSlides-1&&(t=0),aClass(e.def.dotsWrapper.querySelectorAll("span")[t],"active")},e.prototype.updateSliderDimension=function(){var e=this;if(e.slideW=parseInt(e.def.target.querySelectorAll(".slide")[0].offsetWidth),e.sliderInner.style.left=-e.slideW*e.curSlide+"px",e.def.autoHeight)e.def.target.style.height=e.allSlides[e.curSlide].offsetHeight+"px";else for(var t=0;t<e.totalSlides+2;t++)e.allSlides[t].offsetHeight>e.def.target.offsetHeight&&(e.def.target.style.height=e.allSlides[t].offsetHeight+"px");e.def.afterChangeSlide(e)},e}();