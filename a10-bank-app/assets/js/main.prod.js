"use strict";doc_ready(function(){localStorage_space(),add_class(document.body,"modal-open"),match_height(".mh"),FnHandler.list_users(),FnHandler.first_char(),FnHandler.negative_char(),FnHandler.num_only(),FnHandler.type_comma(),FnHandler.dec_addZero(),FnHandler.password_match(id("signup-password"),id("signup-confirm-password"),id("match-msg")),FnHandler.password_match(id("admin-new-password"),id("admin-confirm-new-password"),id("admin-change-match-msg")),FnHandler.password_match(id("new-password"),id("confirm-new-password"),id("change-match-msg"));var e,n,a,t,o,r;n=e="admin",a="1",o=FnHandler.adminStorage(),r=o.findIndex(function(e){return e.adminId==a}),o[r]||(t=new Admin(e,n,a),FnHandler.addAdmin(t));function c(e,n,i,a,t,o,r,d,s,c,l){var m,u=FnHandler.userStorage(),v=u.findIndex(function(e){return e.firstName==t}),p=u.findIndex(function(e){return e.lastName==r});u[v]&&u[p]?alert("User already exists!"):((m=new User(e,n,i,a,t,o,r,d,s,c,l)).transactionHistory.push("<em>".concat(FnHandler.time_stamp(),"</em> : Opened a ").concat(m.accountType.toLowerCase()," account for <strong>").concat(m.firstName,"</strong> ").concat(m.middleName," ").concat(m.lastName," with an initial account balance of <strong>₱").concat(num_commas(m.balance),"</strong>.")),m.userTransactionHistory.push("<em>".concat(FnHandler.time_stamp(),"</em> : You have opened a ").concat(m.accountType.toLowerCase()," account with an initial account balance of <strong>₱").concat(num_commas(m.balance),"</strong>.")),FnHandler.addUser(m))}add_event(id("load-data-btn"),"click",function(){var e=FnHandler.userStorage(),n=e.findIndex(function(e){return"JANE"==e.firstName}),i=e.findIndex(function(e){return"DOE"==e.lastName}),a=e.findIndex(function(e){return"JUAN"==e.firstName}),t=e.findIndex(function(e){return"DELA CRUZ"==e.lastName}),o=e.findIndex(function(e){return"JUANITA"==e.firstName}),r=e.findIndex(function(e){return"SAMONTE"==e.lastName}),d=e.findIndex(function(e){return"JOHN"==e.firstName}),s=e.findIndex(function(e){return"SCHMOE"==e.lastName});e[n]||e[i]||c("janedoe","janedoe","janedoe@mail.com",!0,"JANE","HILLS","DOE","female","023451282250","Checking",7200.05.toFixed(2)),e[a]||e[t]||c("juandelacruz","juandelacruz","juandelacruz@mail.com",!0,"JUAN","","DELA CRUZ","male","071096025466","Savings",2700..toFixed(2)),e[o]||e[r]||c("","","",!5200.5,"JUANITA","HERMAN","SAMONTE","female","031734218924","Checking",5200.5.toFixed(2)),e[d]||e[s]||c("","","",!2500,"JOHN","","SCHMOE","male","064581565583","Savings",2500..toFixed(2)),FnHandler.list_users()}),add_event(id("clear-all-btn"),"click",function(){if(0!=FnHandler.userStorage().length){var e=prompt('Are you sure to delete all stored datas?\nType "Y" for yes and "N" for no.',"N");if("y"!=(null!=e?trim(e.toLowerCase()):console.clear()))return;localStorage.removeItem("users"),FnHandler.list_users()}}),add_event(id("add-form"),"submit",function(e){e.preventDefault();var n=id("male").checked?"male":"female",i=id("savings").checked?["05","06","07","08","09"]:["00","01","02","03","04"],a=id("savings").checked?"Savings":"Checking",t=id("savings").checked?2e3:5e3,o=0==id("add-deposit-amount").value.length?"0":id("add-deposit-amount").value.split(",").join(""),r="".concat(o,".").concat(id("add-deposit-amount-dec").value);return c("","","",!1,inner(trim(id("add-first-name").value.toUpperCase())),inner(trim(id("add-middle-name").value.toUpperCase())),inner(trim(id("add-last-name").value.toUpperCase())),n,i[rand(i.length)]+(rand(9e9)+1e9),a,parseFloat(t+parseFloat(r)).toFixed(2)),FnHandler.list_users(),alert("".concat(inner(trim(id("add-first-name").value.toUpperCase())),"'s account have been successfully created!")),id("add-form").reset(),!1}),add_event(id("login-form"),"submit",function(e){e.preventDefault();var n,i=FnHandler.userStorage(),a=i.findIndex(function(e){return e.accountNumber="023451282250"});return i[a]&&(n=i[a].connections.findIndex(function(e){return"071096025466"==e.accountNumber}),i[a].connections[n]||(i[a].connections.push({name:"JUAN",accountNumber:"071096025466"}),localStorage.setItem("users",JSON.stringify(i)))),FnHandler.login_user(inner(trim(id("login-username").value)),inner(trim(id("login-password").value))),FnHandler.list_connections(id("owner-acc-num").innerHTML.split(" ").join("")),User.list(id("owner-acc-num").innerHTML.split(" ").join("")),User.get_budget(id("owner-acc-num").innerHTML.split(" ").join("")),User.total_expenses(id("owner-acc-num").innerHTML.split(" ").join("")),!1}),add_event(id("log-out-btn"),"click",function(e){return e.preventDefault(),toggle_class(id("modal"),"hide"),setTimeout(function(){for(add_class(document.body,"modal-open"),remove_class(document.body,"user"),remove_class(id("accounts-wrap"),"hide"),remove_class(id("search-wrap"),"active"),id("search-name").value="",id("filter").value="all",i=0;i<id("acc-table").querySelectorAll("tr").length;i++)remove_class(id("acc-table").querySelectorAll("tr")[i],"hide"),remove_class(id("acc-table").querySelectorAll("tr")[i],"search-hide");remove_class(id("expense-wrap"),"hide"),remove_class(id("connections-wrap"),"hide"),remove_class(id("connections-form"),"show"),remove_class(id("add-newaccount-wrap"),"hide"),remove_class(id("withdraw-form"),"hide"),remove_class(id("deposit-form"),"hide"),remove_class(id("send-form"),"hide"),remove_class(id("open-add-form-btn"),"active"),remove_class(id("connections-form"),"show"),remove_class(id("open-connections-wrap-btn"),"active"),remove_class(id("open-withdraw-form-btn"),"active"),remove_class(id("open-deposit-form-btn"),"active"),remove_class(id("open-send-form-btn"),"active")},500),remove_class(id("admin-settings-form"),"hide"),remove_class(id("user-settings-form"),"show"),FnHandler.reset(),!1}),add_event(id("open-signup-btn"),"click",function(){toggle_class(id("login-wrap"),"hide"),toggle_class(id("signup-wrap"),"show")}),add_event(id("signup-form"),"submit",function(e){e.preventDefault();var n=id("signup-male").checked?"male":"female";return FnHandler.signup_user(inner(trim(id("signup-first-name").value.toUpperCase())),inner(trim(id("signup-middle-name").value.toUpperCase())),inner(trim(id("signup-last-name").value.toUpperCase())),n,inner(trim(id("signup-username").value)),inner(id("signup-password").value),inner(id("signup-confirm-password").value),inner(trim(id("signup-email").value)),id("signup-account-num").value.split(" ").join("")),!1}),add_event(id("back-signup-btn"),"click",function(){toggle_class(id("login-wrap"),"hide"),toggle_class(id("signup-wrap"),"show"),remove_class(id("match-msg"),"fa-check"),remove_class(id("match-msg"),"fa-times"),FnHandler.reset()}),add_event(id("open-search-btn"),"click",function(){for(toggle_class(id("search-wrap"),"active"),id("search-name").value="",i=0;i<id("acc-table").querySelectorAll("tr").length;i++)remove_class(id("acc-table").querySelectorAll("tr")[i],"search-hide");setTimeout(function(){id("search-name").focus()},100)}),add_event(id("search-name"),"keyup",function(){for(i=0;i<id("acc-table").querySelectorAll("tr").length;i++)id("acc-table").querySelectorAll("tr")[i].querySelectorAll("td")[1].querySelector("span")&&(-1<id("acc-table").querySelectorAll("tr")[i].querySelectorAll("td")[1].querySelector("span").innerHTML.toUpperCase().indexOf(id("search-name").value.toUpperCase())?remove_class:add_class)(id("acc-table").querySelectorAll("tr")[i],"search-hide")}),add_event(id("filter"),"click",function(){if("all"==id("filter").value)for(i=0;i<id("acc-table").querySelectorAll("tr").length;i++)remove_class(id("acc-table").querySelectorAll("tr")[i],"hide");else if("savings"==id("filter").value)for(i=0;i<id("acc-table").querySelectorAll("tr").length;i++)(has_class(id("acc-table").querySelectorAll("tr")[i],"checking")?add_class:remove_class)(id("acc-table").querySelectorAll("tr")[i],"hide");else for(i=0;i<id("acc-table").querySelectorAll("tr").length;i++)(has_class(id("acc-table").querySelectorAll("tr")[i],"savings")?add_class:remove_class)(id("acc-table").querySelectorAll("tr")[i],"hide")}),add_event(id("settings-btn"),"click",function(){add_class(id("settings-modal"),"show")}),add_event(id("close-settings-btn"),"click",function(){remove_class(id("settings-modal"),"show"),remove_class(id("change-match-msg"),"fa-check"),remove_class(id("change-match-msg"),"fa-times"),remove_class(id("admin-change-match-msg"),"fa-check"),remove_class(id("admin-change-match-msg"),"fa-times"),FnHandler.reset()}),add_event(id("owner-transaction-btn"),"click",function(){add_class(id("owner-transaction-modal"),"show")}),add_event(id("close-owner-transaction-btn"),"click",function(){remove_class(id("owner-transaction-modal"),"show")}),add_event(id("owner"),"click",function(){add_class(id("profile-modal"),"show")}),add_event(id("close-profile-btn"),"click",function(){remove_class(id("profile-modal"),"show")}),add_event(id("add-expense-form"),"submit",function(e){e.preventDefault();var n="".concat(id("add-expense-amount").value.split(",").join(""),".").concat(id("add-expense-amount-dec").value);return User.add(inner(trim(id("add-expense-name").value.toUpperCase())),n,id("owner-acc-num").innerHTML.split(" ").join("")),User.list(id("owner-acc-num").innerHTML.split(" ").join("")),FnHandler.list_users(),FnHandler.individual_history(id("owner-acc-num").innerHTML.split(" ").join("")),User.get_budget(id("owner-acc-num").innerHTML.split(" ").join("")),User.total_expenses(id("owner-acc-num").innerHTML.split(" ").join("")),!1}),add_event(id("add-connections-btn"),"click",function(){toggle_class(id("connections-form"),"show"),id("connections-form").reset()}),add_event(id("connections-form"),"submit",function(e){return e.preventDefault(),FnHandler.add_connections(id("owner-acc-num").innerHTML.split(" ").join(""),inner(trim(id("connections-name").value.toUpperCase())),id("connections-account-num").value.split(" ").join("")),FnHandler.list_connections(id("owner-acc-num").innerHTML.split(" ").join("")),!1}),add_event(id("withdraw-form"),"submit",function(e){e.preventDefault();var n="".concat(id("withdraw-amount").value.split(",").join(""),".").concat(id("withdraw-amount-dec").value);return FnHandler.withdraw(id("withdraw-account").value.split(" ").join(""),n),FnHandler.list_users(),FnHandler.individual_history(id("owner-acc-num").innerHTML.split(" ").join("")),User.get_budget(id("owner-acc-num").innerHTML.split(" ").join("")),id("withdraw-form").reset(),!1}),add_event(id("deposit-form"),"submit",function(e){e.preventDefault();var n="".concat(id("deposit-amount").value.split(",").join(""),".").concat(id("deposit-amount-dec").value);return FnHandler.deposit(id("deposit-account").value.split(" ").join(""),n),FnHandler.list_users(),FnHandler.individual_history(id("owner-acc-num").innerHTML.split(" ").join("")),User.get_budget(id("owner-acc-num").innerHTML.split(" ").join("")),id("deposit-form").reset(),!1}),add_event(id("send-form"),"submit",function(e){e.preventDefault();var n="".concat(id("send-amount").value.split(",").join(""),".").concat(id("send-amount-dec").value);return FnHandler.send(id("sender-account").value.split(" ").join(""),id("receiver-account").value.split(" ").join(""),n),FnHandler.list_users(),FnHandler.individual_history(id("owner-acc-num").innerHTML.split(" ").join("")),User.get_budget(id("owner-acc-num").innerHTML.split(" ").join("")),id("send-form").reset(),!1}),add_event(id("open-add-form-btn"),"click",function(){toggle_class(this,"active"),remove_class(id("open-connections-wrap-btn"),"active"),remove_class(id("open-withdraw-form-btn"),"active"),remove_class(id("open-deposit-form-btn"),"active"),remove_class(id("open-send-form-btn"),"active")}),add_event(id("open-connections-wrap-btn"),"click",function(){toggle_class(this,"active"),remove_class(id("open-add-form-btn"),"active"),toggle_class(id("connections-form"),"show"),remove_class(id("open-withdraw-form-btn"),"active"),remove_class(id("open-deposit-form-btn"),"active"),remove_class(id("open-send-form-btn"),"active")}),add_event(id("open-withdraw-form-btn"),"click",function(){toggle_class(this,"active"),remove_class(id("open-add-form-btn"),"active"),remove_class(id("open-connections-wrap-btn"),"active"),remove_class(id("connections-form"),"show"),remove_class(id("open-deposit-form-btn"),"active"),remove_class(id("open-send-form-btn"),"active")}),add_event(id("open-deposit-form-btn"),"click",function(){toggle_class(this,"active"),remove_class(id("open-add-form-btn"),"active"),remove_class(id("open-connections-wrap-btn"),"active"),remove_class(id("connections-form"),"show"),remove_class(id("open-withdraw-form-btn"),"active"),remove_class(id("open-send-form-btn"),"active")}),add_event(id("open-send-form-btn"),"click",function(){toggle_class(this,"active"),remove_class(id("open-add-form-btn"),"active"),remove_class(id("open-connections-wrap-btn"),"active"),remove_class(id("connections-form"),"show"),remove_class(id("open-withdraw-form-btn"),"active"),remove_class(id("open-deposit-form-btn"),"active")})});