"use strict";function _defineProperties(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,a,t){return a&&_defineProperties(e.prototype,a),t&&_defineProperties(e,t),e}function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}doc_ready(function(){function f(e,a,t,n,i,r){_classCallCheck(this,f),this.firstName=e,this.middleName=a,this.lastName=t,this.accountNumber=n,this.accountType=i,this.balance=r}var i,g=function(){function d(){_classCallCheck(this,d)}return _createClass(d,null,[{key:"userStorage",value:function(){var e=null===localStorage.getItem("users")?[]:JSON.parse(localStorage.getItem("users"));return e}},{key:"addUser",value:function(e){var a=d.userStorage();a.push(e),localStorage.setItem("users",JSON.stringify(a))}},{key:"withdraw",value:function(a,e){var t=d.userStorage(),n=t.findIndex(function(e){return e.accountNumber==a});null==t[n]||""==t[n]?alert("User not found!"):parseFloat(t[n].balance)<parseFloat(e)?alert("Balance cannot be negative!"):0==parseFloat(e)?alert("Enter an amount!"):t[n].balance=parseFloat(parseFloat(t[n].balance)-parseFloat(e)).toFixed(2),localStorage.setItem("users",JSON.stringify(t))}},{key:"deposit",value:function(a,e){var t=d.userStorage(),n=t.findIndex(function(e){return e.accountNumber==a});null==t[n]||""==t[n]?alert("User not found!"):0==parseFloat(e)?alert("Enter an amount!"):t[n].balance=parseFloat(parseFloat(t[n].balance)+parseFloat(e)).toFixed(2),localStorage.setItem("users",JSON.stringify(t))}},{key:"send",value:function(a,t,e){var n=d.userStorage(),i=n.findIndex(function(e){return e.accountNumber==a}),r=n.findIndex(function(e){return e.accountNumber==t});null==n[i]||""==n[i]||null==n[r]||""==n[r]?alert("Users not found!"):parseFloat(n[i].balance)<parseFloat(e)?alert("Balance cannot be negative!"):0==parseFloat(e)?alert("Enter an amount!"):(n[i].balance=parseFloat(parseFloat(n[i].balance)-parseFloat(e)).toFixed(2),n[r].balance=parseFloat(parseFloat(n[r].balance)+parseFloat(e)).toFixed(2)),localStorage.setItem("users",JSON.stringify(n))}},{key:"list_users",value:function(){if(id("acc-num-ul").innerHTML="",id("acc-ul").innerHTML="",id("acc-type-ul").innerHTML="",id("balance-ul").innerHTML="",0!=d.userStorage().length){for(i=0;i<d.userStorage().length;i++)!function(){var a=create_el("li"),e=create_el("li"),t=create_el("li"),n=create_el("li");a.innerHTML=num_space(d.userStorage()[i].accountNumber),id("acc-num-ul").appendChild(a),add_event(a,"click",function(){document.execCommand("copy")}),add_event(a,"copy",function(e){e.preventDefault(),e.clipboardData&&e.clipboardData.setData("text/plain",a.textContent)}),e.innerHTML="".concat(d.userStorage()[i].firstName," ").concat(d.userStorage()[i].middleName," ").concat(d.userStorage()[i].lastName),id("acc-ul").appendChild(e),t.innerHTML=d.userStorage()[i].accountType,id("acc-type-ul").appendChild(t),n.innerHTML="â‚±".concat(num_commas(d.userStorage()[i].balance)),id("balance-ul").appendChild(n)}()}}},{key:"firstChar",value:function(){qsel_all("[id*='-name']").forEach(function(e){add_event(e,"keyup",function(){0<e.value.length&&!(31<e.value.charCodeAt(0)&&(e.value.charCodeAt(0)<48||57<e.value.charCodeAt(0)))&&(alert("Invalid input!"),e.value="")})})}}]),d}();g.list_users(),g.firstChar();add_event(id("login-form"),"submit",function(e){return e.preventDefault(),"admin"==id("login-username").value&&"admin"==id("login-password").value&&toggle_class(id("modal"),"hide"),!1}),add_event(id("open-signup-btn"),"click",function(){toggle_class(id("login-wrap"),"hide"),toggle_class(id("signup-wrap"),"show")}),add_event(id("signup-form"),"submit",function(e){return e.preventDefault(),toggle_class(id("login-wrap"),"hide"),toggle_class(id("signup-wrap"),"show"),!1}),add_event(id("back-signup-btn"),"click",function(){toggle_class(id("login-wrap"),"hide"),toggle_class(id("signup-wrap"),"show")}),add_event(id("add-form"),"submit",function(e){e.preventDefault();var a,t,n,i,r,d,l,o,u,s,c=id("savings").checked?"Savings":"Checking",p=id("savings").checked?2e3:5e3,v=parseFloat(id("add-deposit-dec").value)<10?"0".concat(parseFloat(id("add-deposit-dec").value)):id("add-deposit-dec").value,m="".concat(id("add-deposit").value,".").concat(v);return 0!=id("add-first-name").value.length&&0!=id("add-last-name").value.length?(a=inner(id("add-first-name").value.toUpperCase()),t=inner(id("add-middle-name").value.toUpperCase()),n=inner(id("add-last-name").value.toUpperCase()),i=rand(9e11)+1e11,r=c,d=parseFloat(p+parseFloat(m)).toFixed(2),o=g.userStorage(),u=o.findIndex(function(e){return e.firstName==a}),s=o.findIndex(function(e){return e.lastName==n}),o[u]&&o[s]?alert("User already exists!"):(l=new f(a,t,n,i,r,d),g.addUser(l)),g.list_users(),id("add-first-name").value="",id("add-middle-name").value="",id("add-last-name").value="",id("add-deposit").value="0",id("add-deposit-dec").value="00"):alert("Please complete the necessary details"),!1}),add_event(id("withdraw-form"),"submit",function(e){e.preventDefault();var a=parseFloat(id("withdraw-amount-dec").value)<10?"0".concat(parseFloat(id("withdraw-amount-dec").value)):id("withdraw-amount-dec").value,t="".concat(id("withdraw-amount").value,".").concat(a);return g.withdraw(inner(id("withdraw-account").value.split(" ").join("")),t),g.list_users(),id("withdraw-account").value="",id("withdraw-amount").value="0",!(id("withdraw-amount-dec").value="00")}),add_event(id("deposit-form"),"submit",function(e){e.preventDefault();var a=parseFloat(id("deposit-amount-dec").value)<10?"0".concat(parseFloat(id("deposit-amount-dec").value)):id("deposit-amount-dec").value,t="".concat(id("deposit-amount").value,".").concat(a);return g.deposit(inner(id("deposit-account").value.split(" ").join("")),t),g.list_users(),id("deposit-account").value="",id("deposit-amount").value="0",!(id("deposit-amount-dec").value="00")}),add_event(id("send-form"),"submit",function(e){e.preventDefault();var a=parseFloat(id("send-amount-dec").value)<10?"0".concat(parseFloat(id("send-amount-dec").value)):id("send-amount-dec").value,t="".concat(id("send-amount").value,".").concat(a);return g.send(inner(id("sender-account").value.split(" ").join("")),inner(id("receiver-account").value.split(" ").join("")),t),g.list_users(),id("sender-account").value="",id("receiver-account").value="",id("send-amount").value="0",!(id("send-amount-dec").value="00")})});