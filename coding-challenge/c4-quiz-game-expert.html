<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Patrick Samson" />
    <title>Quiz Game (Expert)</title>
    <link
      rel="icon"
      href="../assets/img/favicon-32x32.png"
      type="image/png"
      size="32x32"
    />
    <link
      rel="icon"
      href="../assets/img/favicon-16x16.png"
      type="image/png"
      size="16x16"
    />
    <link rel="stylesheet" href="../assets/css/index.min.css" />
  </head>
  <body>
    <main>
      <div class="cont talign">
        <p class="h6 mt-05 mb-05">
          For PC, check the "Console" tab in your browser's inspector.
        </p>

        <p class="mb-05">
          <a
            href="https://github.com/patricklsamson/batch8-activities/blob/main/coding-challenge/c4-quiz-game-expert.html"
            >Click here to see the code!</a
          >
        </p>

        <button id="start-quiz-btn">Start quiz again!</button>

        <p id="remarks" class="mt-05"></p>
        <p id="score" class="mt-05"></p>
      </div>
    </main>

    <script>
      const questions = [
        {
          question:
            "What does HTML stand for?\nPlease enter the number of the correct answer.\n1) Hyper Text Markup Language\n2) Hey Too Much Layout\n3) How To Make Lasagna",
          answer: 1,
          exit: 'Type and enter "exit" to quit the game.',
        },
        {
          question:
            "What does CSS stand for?\nPlease enter the number of the correct answer.\n1) Cats Sour Sauce\n2) Cascading Style Sheets\n3) Center Style Solution",
          answer: 2,
        },
        {
          question:
            "What year did JavaScript first appeared?\nPlease enter the number of the correct answer.\n1) 2000\n2) 1999\n3) 1995",
          answer: 3,
        },
        {
          question:
            "Who invented the World Wide Web?\nPlease enter the number of the correct answer.\n1) Steve Jobs\n2) Tim Berners-Lee\n3) Steve Rogers",
          answer: 2,
        },
        {
          question:
            "What language is JavaScript?\nPlease enter the number of the correct answer.\n1) Scripting Language\n2) English Language\n3) Programming Language",
          answer: 1,
        },
        {
          question:
            "What do you call the function that is a combination of a function bundled together enclosed with references to its surrounding state?\nPlease enter the number of the correct answer.\n1) Arrow Function\n2) Closure\n3) IIFE",
          answer: 2,
        },
        {
          question:
            "What do you call the score/rank that determines which style declarations are ultimately applied to an element?\nPlease enter the number of the correct answer.\n1) CSS Specimen\n2) CSS Specific Weight\n3) CSS Specificity",
          answer: 3,
        },
        {
          question:
            "What is the CSS3 layout mode that provides an efficient way to align and distribute space among items in a container?\nPlease enter the number of the correct answer.\n1) Bootstrap Container\n2) Grid\n3) Flexbox",
          answer: 3,
        },
        {
          question:
            "Where is the title tag usually located?\nPlease enter the number of the correct answer.\n1) Head Tag\n2) Body Tag\n3) Script Tag",
          answer: 1,
        },
        {
          question:
            "Which of the following is truthy?\nPlease enter the number of the correct answer.\n1) 9 is a number.\n2) '3' is a number.\n3) 5 is a string.",
          answer: 1,
        },
      ];

      let counter = 0;

      const startQuiz = () => {
        let rand = Math.floor(Math.random() * questions.length),
          entry = prompt(`${questions[rand].question}\n${questions[0].exit}`);

        if (entry == questions[rand].answer && entry != "exit") {
          alert("You are correct!");
          counter++;

          if (counter % 5 == 0) {
            alert("5 in a row!");
          }

          startQuiz();
        } else if (entry != questions[rand].answer && entry != "exit") {
          alert(
            `You are wrong! The correct answer is: ${questions[rand].answer}`
          );

          startQuiz();
        } else if (entry == "exit") {
          alert("For PC, you can also check your score on the console!");

          console.log(
            `${
              counter >= 5
                ? "You did a great job!"
                : "Better make a 5 in a row next time!"
            }`,
            `Your score is: ${counter} ${counter <= 1 ? "pt." : "pts."}`
          );

          document.getElementById("remarks").innerHTML = `${
            counter >= 5
              ? "You did a great job!"
              : "Better make a 5 in a row next time!"
          }`;

          document.getElementById(
            "score"
          ).innerHTML = `Your score is: ${counter} ${
            counter <= 1 ? "pt." : "pts."
          }`;

          counter = 0;
          return;
        }
      };

      startQuiz();

      document.getElementById("start-quiz-btn").addEventListener(
        "click",
        () => {
          console.clear();
          startQuiz();
        },
        false
      );
    </script>
  </body>
</html>
