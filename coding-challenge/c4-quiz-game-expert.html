<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Patrick Samson" />
    <title>Quiz Game (Expert)</title>
    <link
      rel="icon"
      href="../assets/img/favicon-32x32.png"
      type="image/png"
      size="32x32"
    />
    <link
      rel="icon"
      href="../assets/img/favicon-16x16.png"
      type="image/png"
      size="16x16"
    />
    <link rel="stylesheet" href="../assets/css/index.min.css" />
  </head>
  <body>
    <main>
      <div class="cont talign">
        <p class="h2 mt-05 mb-05">
          Check the "Console" tab in your browser's inspector.
        </p>
        <button id="start-quiz-btn">Start quiz again!</button>
      </div>
    </main>

    <script>
      const questions = [
        {
          question:
            "What does HTML stand for? \n 1) Hyper Text Markup Language \n 2) Hey Too Much Layout \n 3) How To Make Lasagna",
          answer: 1,
        },
        {
          question:
            "What does CSS stand for? \n 1) Cats Sour Sauce \n 2) Cascading Style Sheets \n 3) Center Style Solution",
          answer: 2,
        },
        {
          question:
            "What year did JavaScript first appeared? \n 1) 2000 \n 2) 1999 \n 3) 1995",
          answer: 3,
        },
        {
          question:
            "Who invented the World Wide Web? \n 1) Steve Jobs \n 2) Tim Berners-Lee \n 3) Steve Rogers",
          answer: 2,
        },
        {
          question:
            "What language is JavaScript? \n 1) Scripting Language \n 2) English Language \n 3) Programming Language",
          answer: 1,
        },
        {
          question:
            "What do you call the function that is a combination of a function bundled together enclosed with references to its surrounding state? \n 1) Arrow Function \n 2) Closure \n 3) IIFE",
          answer: 2,
        },
        {
          question:
            "What do you call the score/rank that determines which style declarations are ultimately applied to an element? \n 1) CSS Specimen \n 2) CSS Specific Weight \n 3) CSS Specificity",
          answer: 3,
        },
        {
          question:
            "What is the CSS3 layout mode that provides an efficient way to align and distribute space among items in a container? \n 1) Bootstrap Container \n 2) Grid \n 3) Flexbox",
          answer: 3,
        },
        {
          question:
            "Where is the title tag usually located? \n 1) Head Tag \n 2) Body Tag \n 3) Script Tag",
          answer: 1,
        },
        {
          question:
            "Which of the following is truthy? \n 1) 9 is a number. \n 2) '3' is a number. \n 3) 5 is a string.",
          answer: 1,
        },
      ];

      let counter = 0;

      const startQuiz = () => {
        let rand = Math.floor(Math.random() * questions.length),
          entry = prompt(questions[rand].question);

        if (entry == questions[rand].answer && entry != "exit") {
          alert("You are correct!");
          counter++;

          if (counter % 5 == 0) {
            alert("5 in a row!");
          }

          startQuiz();
        } else if (entry != questions[rand].answer && entry != "exit") {
          alert(
            `You are wrong! The correct answer is: ${questions[rand].answer}`
          );
          startQuiz();
        } else if (entry == "exit") {
          alert("Check your score on the console!");
          console.log(
            `${
              counter >= 5
                ? "You did a great job!"
                : "Better make a 5 in a row next time!"
            }`,
            `Your score is: ${counter} ${counter <= 1 ? "pt." : "pts."}`
          );
          counter = 0;
          return;
        }
      };

      startQuiz();

      document.getElementById("start-quiz-btn").addEventListener(
        "click",
        () => {
          console.clear();
          startQuiz();
        },
        false
      );
    </script>
  </body>
</html>
