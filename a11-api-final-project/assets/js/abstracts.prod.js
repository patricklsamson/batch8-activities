"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var i,j,player,ytScript=create_el("script"),done=!1;ytScript.src="https://www.youtube.com/iframe_api";var onPlayerReady=function(e){e.target.playVideo()},stopVideo=function(){player.stopVideo()},onPlayerStateChange=function(e){e.data!=YT.PlayerState.PLAYING||done||(stopVideo(),done=!0)},onYouTubeIframeAPIReady=function(){player=new YT.Player("player",{videoId:"DxIDKZHW3-E",playerVars:{playsinline:1},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})},loadQuote=function(){match_media("only screen and (min-width: 992px)",992,function(){fetch("https://api.quotable.io/random?maxLength=100&?tags=faith,famous-quotes,friendship,future,happiness,inspirational,life,love,proverb,religion,success,wisdom").then(function(e){return e.json()}).then(function(e){return id("quote").innerHTML=e.content}).then(function(e){return console.log("Screen Min Width = 992px\nQuotes Character Length = ".concat(e.length," characters"))})},function(){fetch("https://api.quotable.io/random?maxLength=30&?tags=faith,famous-quotes,friendship,future,happiness,inspirational,life,love,proverb,religion,success,wisdom").then(function(e){return e.json()}).then(function(e){return id("quote").innerHTML=e.content}).then(function(e){return console.log("Screen Max Width = 991px\nQuotes Character Length = ".concat(e.length," characters"))})})},searchAdvice=function(){id("advice-ul").innerHTML="",2<=id("advice").value.length&&fetch("https://api.adviceslip.com/advice/search/".concat(id("advice").value)).then(function(e){return e.json()}).then(function(e){for(i=0;i<e.slips.length;i++)id("advice-ul").innerHTML+='<li class="mb-05">'.concat(e.slips[i].advice,"</li>")}).catch(function(){id("advice-ul").innerHTML+="No advice slips found matching that search term."}),id("advice-form").reset()};function addWhiteList(e){var t=Location.locationStorage(),n=prompt('Are you sure in putting this in the whitelist?\nType "Y" for yes and "N" for no.',"Y");"n"!=(null!=n?trim(n.toLowerCase()):console.clear())&&(t[e.id].whiteList=!0,localStorage.setItem("location",JSON.stringify(t)),Location.list_location())}function removeWhiteList(e){var t=Location.locationStorage(),n=prompt('Are you sure in removing this from the whitelist?\nType "Y" for yes and "N" for no.',"Y");"n"!=(null!=n?trim(n.toLowerCase()):console.clear())&&(t[e.id].whiteList=!1,localStorage.setItem("location",JSON.stringify(t)),Location.list_location())}function delLocation(e){var t=Location.locationStorage(),n=prompt('Are you sure in deleting this?\nType "Y" for yes and "N" for no.',"N");"y"==(null!=n?trim(n.toLowerCase()):console.clear())&&(t.splice(e.id,1),localStorage.setItem("location",JSON.stringify(t)),Location.list_location())}var Location=function(){function o(e,t,n,a){_classCallCheck(this,o),this.name=e,this.number=t,this.message=n,this.timeStamp=a,this.whiteList=!1,this.ipInfo=[]}return _createClass(o,null,[{key:"locationStorage",value:function(){var e=null===localStorage.getItem("location")?[]:JSON.parse(localStorage.getItem("location"));return e}},{key:"time_stamp",value:function(){var e=new Date,t=e.getMonth()<10?"0".concat(e.getMonth()+1):e.getMonth()+1,n=e.getDate()<10?"0".concat(e.getDate()):e.getDate(),a="".concat(t,"/").concat(n,"/").concat(e.getFullYear()),i=e.getHours()<10?"0".concat(e.getHours()):e.getHours(),o=e.getMinutes()<10?"0".concat(e.getMinutes()):e.getMinutes(),c=e.getSeconds()<10?"0".concat(e.getSeconds()):e.getSeconds(),s="".concat(i,":").concat(o,":").concat(c);return"".concat(a," - ").concat(s)}},{key:"send_location",value:function(e){var t=o.locationStorage();t.push(e),localStorage.setItem("location",JSON.stringify(t))}},{key:"list_location",value:function(){var e,t,n=o.locationStorage();for(id("sos-table").innerHTML="",id("whitelist-table").innerHTML="",i=0;i<n.length;i++){0==n[i].whiteList?((e=create_el("tr")).innerHTML="<td>".concat(n[i].timeStamp,"</td>\n<td>").concat(n[i].name,"</td>\n<td>").concat(n[i].number,"</td>\n<td>").concat(n[i].ipInfo[0].country,"</td>\n<td>").concat(n[i].message,'</td>\n<td><i id="').concat(i,'" onclick="addWhiteList(this)" class="far fa-plus-square"></i></td>\n<td><i id="').concat(i,'" onclick="delLocation(this)" class="far fa-minus-square"></i></td>'),id("sos-table").appendChild(e)):((t=create_el("tr")).innerHTML="<td>".concat(n[i].timeStamp,"</td>\n<td>").concat(n[i].name,"</td>\n<td>").concat(n[i].number,"</td>\n<td>").concat(n[i].ipInfo[0].country,"</td>\n<td>").concat(n[i].message,'</td>\n<td><i id="').concat(i,'" onclick="removeWhiteList(this)" class="far fa-minus-square"></i></td>\n<td><i id="').concat(i,'" onclick="delLocation(this)" class="far fa-minus-square"></i></td>'),id("whitelist-table").appendChild(t))}}}]),o}(),sendLocation=function(e,t,n,a){var i;3<=id("sos-name").value.length&&(i=new Location(e,t,n,a),fetch("https://ipinfo.io/json?token=d17cf2c04985a8").then(function(e){return e.json()}).then(function(e){return i.ipInfo.push(e)}),setTimeout(function(){Location.send_location(i)},2e3),id("sos-form").reset(),qsel(".selected").innerHTML="Code")},Admin=function(){function i(e,t,n){_classCallCheck(this,i),this.username=e,this.password=t,this.adminId=n}return _createClass(i,null,[{key:"adminStorage",value:function(){var e=null===localStorage.getItem("p-admin")?[]:JSON.parse(localStorage.getItem("p-admin"));return e}},{key:"addAdmin",value:function(e){var t=i.adminStorage();t.push(e),localStorage.setItem("p-admin",JSON.stringify(t))}},{key:"login_admin",value:function(t,e){var n=i.adminStorage(),a=n.findIndex(function(e){return e.username==t});n[0].username==t&&n[0].password==e?(add_class(id("login-form"),"hide"),add_class(id("header-admin"),"show"),add_class(id("table-wrap"),"show")):n[a]?alert("Username and password do not match!"):alert("User does not exist!")}},{key:"password_match",value:function(e,t,n){add_event(e,"keyup",function(){this.value==t.value&&0!=this.value.length?(remove_class(n,"fa-times"),add_class(n,"fa-check")):this.value!=t.value&&1<=t.value.length?(remove_class(n,"fa-check"),add_class(n,"fa-times")):0==this.value.length&&(remove_class(n,"fa-check"),remove_class(n,"fa-times"))}),add_event(t,"keyup",function(){this.value==e.value&&0!=this.value.length?(remove_class(n,"fa-times"),add_class(n,"fa-check")):this.value!=e.value&&1<=e.value.length?(remove_class(n,"fa-check"),add_class(n,"fa-times")):0==this.value.length&&(remove_class(n,"fa-check"),remove_class(n,"fa-times"))})}}]),i}(),create_admin=function(e,t,n){var a,i=Admin.adminStorage(),o=i.findIndex(function(e){return e.adminId==n});i[o]||(a=new Admin(e,t,n),Admin.addAdmin(a))};