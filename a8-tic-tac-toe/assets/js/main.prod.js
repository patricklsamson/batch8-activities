"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}doc_ready(function(){function m(){add_class(id("tboard"),"o"),remove_class(id("tboard"),"x"),id("tooltip").innerHTML="Player O's turn."}function y(){add_class(id("tboard"),"x"),remove_class(id("tboard"),"o"),id("tooltip").innerHTML="Player X's turn."}function e(){g=!1,id("player").innerHTML="X",(g?m:y)()}var g,t,w=!1,k=[["","",""],["","",""],["","",""]],x=[],r=[];e(),add_event(id("mark-checker"),"click",function(){id("mark-checker").checked?(g=!0,id("player").innerHTML="O",m()):(g=!1,id("player").innerHTML="X",y())}),add_event(id("proceed-btn"),"click",function(){add_class(id("modal"),"hide")});function T(){for(w=!0,remove_class(id("tboard"),"x"),remove_class(id("tboard"),"o"),add_class(id("prev-btn"),"show"),t=0;t<qsa(".box").length;t++)qsa(".box")[t].style.cursor="auto"}function A(e){if(!w){var t=e.target||e.srcElement,r=g?"o":"x",a=t.dataset.row||t.getAttribute("data-row"),n=t.dataset.col||t.getAttribute("data-col");k[a][n]=r,add_class(t,r),remove_class(t,"empty"),((g=!g)?m:y)(),x.push([r,a,n]);for(var o=0;o<k.length;o++){var i=k[o][0],c=k[o][1],d=k[o][2];if(i&&i===c&&c===d)return T(),void(id("tooltip").innerHTML="Player ".concat(r.toUpperCase()," is the winner."))}for(var s=0;s<k.length;s++){var l=k[0][s],h=k[1][s],p=k[2][s];if(l&&l===h&&h===p)return T(),void(id("tooltip").innerHTML="Player ".concat(r.toUpperCase()," is the winner."))}var _=k[0][0],u=k[2][2],v=k[0][2],b=k[2][0],f=k[1][1];(_&&_===u&&u===f||v&&v===b&&b==f)&&(T(),id("tooltip").innerHTML="Player ".concat(r.toUpperCase()," is the winner.")),9==x.length&&(T(),id("tooltip").innerHTML="The players ended in a Draw.")}remove_event(e.target||e.srcElement,"click",A)}qsa(".box").forEach(function(e){add_event(e,"click",A)}),add_event(id("reset-btn"),"click",function(){w=!1,k=[["","",""],["","",""],["","",""]],x=[],r=[],remove_class(id("modal"),"hide"),id("mark-checker").checked=!1,e(),qsa(".box").forEach(function(e){add_event(e,"click",A),add_class(e,"empty"),remove_class(e,"x"),remove_class(e,"o"),e.style.cursor="pointer"}),remove_class(id("prev-btn"),"show"),remove_class(id("next-btn"),"show")}),add_event(id("prev-btn"),"click",function(){for(r.push.apply(r,_toConsumableArray(x.splice(x.length-1,1))),t=0;t<r.length;t++)remove_class(qs('[data-row="'.concat(r[t][1],'"][data-col="').concat(r[t][2],'"]')),r[t][0]);r.length<x.length&&add_class(id("next-btn"),"show"),0==x.length&&remove_class(id("prev-btn"),"show")}),add_event(id("next-btn"),"click",function(){for(x.push.apply(x,_toConsumableArray(r.splice(r.length-1,1))),t=0;t<x.length;t++)add_class(qs('[data-row="'.concat(x[t][1],'"][data-col="').concat(x[t][2],'"]')),x[t][0]);x.length<r.length&&add_class(id("prev-btn"),"show"),0==r.length&&remove_class(id("next-btn"),"show")})});