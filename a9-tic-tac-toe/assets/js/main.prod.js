"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}doc_ready(function(){function y(){add_class(id("tboard"),"o"),remove_class(id("tboard"),"x"),id("tooltip").innerHTML="Player O's turn."}function f(){add_class(id("tboard"),"x"),remove_class(id("tboard"),"o"),id("tooltip").innerHTML="Player X's turn."}function e(){g=!1,id("player").innerHTML="X",(g?y:f)()}var g,t,w=!1,x=[["","",""],["","",""],["","",""]],k=[],T=0,A=[],o=[];e(),add_event(id("mark-checker"),"click",function(){id("mark-checker").checked?(g=!0,id("player").innerHTML="O",y()):(g=!1,id("player").innerHTML="X",f())}),add_event(id("proceed-btn"),"click",function(){add_class(id("modal"),"hide")});function H(){for(w=!0,remove_class(id("tboard"),"x"),remove_class(id("tboard"),"o"),add_class(id("prev-btn"),"show"),t=0;t<qsa(".box").length;t++)qsa(".box")[t].style.cursor="auto"}function C(e){if(!w){var t=e.target||e.srcElement,o=g?"o":"x",r=t.dataset.row||t.getAttribute("data-row"),a=t.dataset.col||t.getAttribute("data-col");x[r][a]=o,add_class(t,o),remove_class(t,"empty"),((g=!g)?y:f)(),k[T]=[T,o,r,a],T++;console.log("Move ".concat(T,": Player ").concat(o.toUpperCase()," puts their mark on the ").concat(0==r&&0==a?"top leftmost box":0==r&&1==a?"top middle box":0==r&&2==a?"top rightmost box":1==r&&0==a?"middle leftmost box":1==r&&1==a?"middle box":1==r&&2==a?"middle rightmost box":2==r&&0==a?"bottom leftmost box":2==r&&1==a?"bottom middle box":2==r&&2==a?"bottom rightmost box":void 0,".")),A.push([o,r,a]);for(var n=0;n<x.length;n++){var i=x[n][0],c=x[n][1],l=x[n][2];if(i&&i===c&&c===l)return H(),id("tooltip").innerHTML="Player ".concat(o.toUpperCase()," is the winner."),void console.log("Player ".concat(o.toUpperCase()," is the winner."))}for(var s=0;s<x.length;s++){var d=x[0][s],p=x[1][s],h=x[2][s];if(d&&d===p&&p===h)return H(),id("tooltip").innerHTML="Player ".concat(o.toUpperCase()," is the winner."),void console.log("Player ".concat(o.toUpperCase()," is the winner."))}var b=x[0][0],m=x[2][2],u=x[0][2],v=x[2][0],_=x[1][1];(b&&b===m&&m===_||u&&u===v&&v==_)&&(H(),id("tooltip").innerHTML="Player ".concat(o.toUpperCase()," is the winner."),console.log("Player ".concat(o.toUpperCase()," is the winner."))),9==A.length&&(H(),id("tooltip").innerHTML="The players ended in a draw.",console.log("The players ended in a draw."))}remove_event(e.target||e.srcElement,"click",C)}qsa(".box").forEach(function(e){add_event(e,"click",C)}),add_event(id("reset-btn"),"click",function(){w=!1,x=[["","",""],["","",""],["","",""]],k=[],T=0,A=[],o=[],console.clear(),remove_class(id("modal"),"hide"),id("mark-checker").checked=!1,e(),qsa(".box").forEach(function(e){add_event(e,"click",C),add_class(e,"empty"),remove_class(e,"x"),remove_class(e,"o"),e.style.cursor="pointer"}),remove_class(id("prev-btn"),"show"),remove_class(id("next-btn"),"show")}),add_event(id("prev-btn"),"click",function(){for(o.push.apply(o,_toConsumableArray(A.splice(A.length-1,1))),t=0;t<o.length;t++)remove_class(qs('[data-row="'.concat(o[t][1],'"][data-col="').concat(o[t][2],'"]')),o[t][0]);o.length<A.length&&add_class(id("next-btn"),"show"),0==A.length&&remove_class(id("prev-btn"),"show")}),add_event(id("next-btn"),"click",function(){for(A.push.apply(A,_toConsumableArray(o.splice(o.length-1,1))),t=0;t<A.length;t++)add_class(qs('[data-row="'.concat(A[t][1],'"][data-col="').concat(A[t][2],'"]')),A[t][0]);A.length<o.length&&add_class(id("prev-btn"),"show"),0==o.length&&remove_class(id("next-btn"),"show")})});