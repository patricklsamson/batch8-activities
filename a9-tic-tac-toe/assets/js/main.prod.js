"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}doc_ready(function(){function k(){add_class(id("tboard"),"o"),remove_class(id("tboard"),"x"),id("tooltip").innerHTML="Player O's turn."}function w(){add_class(id("tboard"),"x"),remove_class(id("tboard"),"o"),id("tooltip").innerHTML="Player X's turn."}function e(){A=!1,id("player").innerHTML="X",(A?k:w)()}var A,T,H=!1,M=[["","",""],["","",""],["","",""]],L=[],x=0,t=[],C=[],r=[];e(),add_event(id("mark-checker"),"click",function(){id("mark-checker").checked?(A=!0,id("player").innerHTML="O",k()):(A=!1,id("player").innerHTML="X",w())}),add_event(id("proceed-btn"),"click",function(){add_class(id("modal"),"hide")});function q(){for(H=!0,remove_class(id("tboard"),"x"),remove_class(id("tboard"),"o"),add_class(id("prev-btn"),"show"),T=0;T<qsel_all(".box").length;T++)qsel_all(".box")[T].style.cursor="auto"}function S(e){if(!H){var t=e.target||e.srcElement,r=A?"o":"x",a=t.dataset.row||t.getAttribute("data-row"),o=t.dataset.col||t.getAttribute("data-col");M[a][o]=r,add_class(t,r),remove_class(t,"empty"),t.style.cursor="auto",((A=!A)?k:w)(),L[x]=[x,r,a,o,"p","strike"],x++;var n=function(){var e;switch(a+o){case"00":e="top leftmost";break;case"01":e="top middle";break;case"02":e="top rightmost";break;case"10":e="middle leftmost";break;case"11":e="middle";break;case"12":e="middle rightmost";break;case"20":e="bottom leftmost";break;case"21":e="bottom middle";break;case"22":e="bottom rightmost"}return e};console.log("Move ".concat(x,": Player ").concat(r.toUpperCase()," puts their mark on the ").concat(n()," box."));var l=create_el("p");id("history-wrap").appendChild(l),l.innerHTML="".concat(x," = ").concat(r.toUpperCase()," => ").concat(n()),C.push([r,a,o]);for(var c=function(){var e=create_el("span");for(e.innerHTML="l",id(r).appendChild(e),T=4;T<id(r).querySelectorAll("span").length;T+=5)add_class(id(r).querySelectorAll("span")[T],"divide"),add_class(id(r).querySelectorAll("span")[T],"img"),add_class(id(r).querySelectorAll("span")[T],"con"),id(r).querySelectorAll("span")[T].innerHTML=""},i=0;i<M.length;i++){var s=M[i][0],d=M[i][1],p=M[i][2];if(s&&s===d&&d===p)return q(),id("tooltip").innerHTML="Player ".concat(r.toUpperCase()," is the winner!"),console.log("Player ".concat(r.toUpperCase()," is the winner!")),void c()}for(var h=0;h<M.length;h++){var u=M[0][h],_=M[1][h],b=M[2][h];if(u&&u===_&&_===b)return q(),id("tooltip").innerHTML="Player ".concat(r.toUpperCase()," is the winner!"),console.log("Player ".concat(r.toUpperCase()," is the winner!")),void c()}var y=M[0][0],m=M[2][2],v=M[0][2],f=M[2][0],g=M[1][1];(y&&y===m&&m===g||v&&v===f&&f==g)&&(q(),id("tooltip").innerHTML="Player ".concat(r.toUpperCase()," is the winner!"),console.log("Player ".concat(r.toUpperCase()," is the winner!")),c()),9==C.length&&(q(),id("tooltip").innerHTML="It's a draw!",console.log("The players ended in a draw."))}remove_event(e.target||e.srcElement,"click",S)}qsel_all(".box").forEach(function(e){add_event(e,"click",S)});function a(){H=!1,M=[["","",""],["","",""],["","",""]],L=[],x=0,t=[],C=[],r=[],e(),id("mark-checker").checked?(A=!0,id("player").innerHTML="O",k()):(A=!1,id("player").innerHTML="X",w()),console.clear(),id("history-wrap").innerHTML="",qsel_all(".box").forEach(function(e){add_event(e,"click",S),add_class(e,"empty"),remove_class(e,"x"),remove_class(e,"o"),e.style.cursor="pointer"}),remove_class(id("prev-btn"),"show"),remove_class(id("next-btn"),"show")}add_event(id("reset-btn"),"click",a),add_event(id("newGame-btn"),"click",function(){a(),remove_class(id("modal"),"hide"),id("mark-checker").checked=!1,e(),id("x").innerHTML="X =&nbsp;",id("o").innerHTML="O =&nbsp;"}),add_event(id("prev-btn"),"click",function(){for(r.push.apply(r,_toConsumableArray(C.splice(C.length-1,1))),T=0;T<r.length;T++)remove_class(qsel('[data-row="'.concat(r[T][1],'"][data-col="').concat(r[T][2],'"]')),r[T][0]);for(r.length<C.length&&add_class(id("next-btn"),"show"),0==C.length&&remove_class(id("prev-btn"),"show"),t.push.apply(t,_toConsumableArray(L.splice(L.length-1,1))),T=0;T<t.length;T++)add_class(id("history-wrap").querySelectorAll(t[T][4])[t[T][0]],t[T][5])}),add_event(id("next-btn"),"click",function(){for(C.push.apply(C,_toConsumableArray(r.splice(r.length-1,1))),T=0;T<C.length;T++)add_class(qsel('[data-row="'.concat(C[T][1],'"][data-col="').concat(C[T][2],'"]')),C[T][0]);for(C.length<r.length&&add_class(id("prev-btn"),"show"),0==r.length&&remove_class(id("next-btn"),"show"),L.push.apply(L,_toConsumableArray(t.splice(t.length-1,1))),T=0;T<L.length;T++)remove_class(id("history-wrap").querySelectorAll(L[T][4])[L[T][0]],L[T][5])})});