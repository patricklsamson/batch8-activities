"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}doc_ready(function(){function w(){add_class(id("tboard"),"o"),remove_class(id("tboard"),"x"),id("tooltip").innerHTML="Player O's turn."}function S(){add_class(id("tboard"),"x"),remove_class(id("tboard"),"o"),id("tooltip").innerHTML="Player X's turn."}function t(){A=!1,id("player").innerHTML="X",(A?w:S)()}var A,H,q=!1,x=[["","",""],["","",""],["","",""]],C={history:[],historyCounter:0,historyStorage:[],prevHistory:function(){var t,e,r,o,i;for((t=this.historyStorage).push.apply(t,_toConsumableArray(this.history.splice(this.history.length-1,1))),H=0;H<this.historyStorage.length;H++)add_class(id("history-wrap").querySelectorAll(this.historyStorage[H].inner)[this.history.length],this.historyStorage[H].delete),remove_class(qsel('[data-row="'.concat(this.historyStorage[H].rowPos,'"][data-col="').concat(this.historyStorage[H].colPos,'"]')),this.historyStorage[H].marker);for(H=0;H<this.historyStorage.length;H++)e=this.historyCounter-this.historyStorage.indexOf(this.historyStorage[H]);for(H=0;H<this.historyStorage.length;H++)r=this.historyStorage[H].marker;has_class(id("prev-btn"),"show")&&(console.log("Move ".concat(e," with mark ").concat(r.toUpperCase()," was undone.")),(o=console).log.apply(o,_toConsumableArray(this.historyStorage)),(i=console).log.apply(i,_toConsumableArray(this.history))),this.historyStorage.length<this.history.length&&add_class(id("next-btn"),"show"),0==this.history.length&&remove_class(id("prev-btn"),"show")},nextHistory:function(){var t,e,r,o,i;for((t=this.history).push.apply(t,_toConsumableArray(this.historyStorage.splice(this.historyStorage.length-1,1))),H=0;H<this.history.length;H++)remove_class(id("history-wrap").querySelectorAll(this.history[H].inner)[this.history.indexOf(this.history[H])],this.history[H].delete),add_class(qsel('[data-row="'.concat(this.history[H].rowPos,'"][data-col="').concat(this.history[H].colPos,'"]')),this.history[H].marker);for(H=0;H<this.history.length;H++)e=this.history.indexOf(this.history[H])+1;for(H=0;H<this.history.length;H++)r=this.history[H].marker;has_class(id("next-btn"),"show")&&(console.log("Move ".concat(e," with mark ").concat(r.toUpperCase()," was redone.")),(o=console).log.apply(o,_toConsumableArray(this.history)),(i=console).log.apply(i,_toConsumableArray(this.historyStorage))),this.history.length<this.historyStorage.length&&add_class(id("prev-btn"),"show"),0==this.historyStorage.length&&remove_class(id("next-btn"),"show")}};t();function e(){id("mark-checker").checked?(A=!0,id("player").innerHTML="O",id("mark-holder-wrap").querySelectorAll("p")[0].id="o",id("mark-holder-wrap").querySelectorAll("p")[1].id="x",id("mark-holder1").innerHTML="O",id("mark-holder2").innerHTML="X",w()):(A=!1,id("player").innerHTML="X",S())}add_event(id("mark-checker"),"click",e),add_event(id("proceed-btn"),"click",function(){add_class(id("modal"),"hide")});function T(){for(q=!0,remove_class(id("tboard"),"x"),remove_class(id("tboard"),"o"),add_class(id("prev-btn"),"show"),H=0;H<qsel_all(".box").length;H++)remove_class(qsel_all(".box")[H],"empty")}function M(t){if(!q){var e=t.target||t.srcElement,r=A?"o":"x",o=e.dataset.row||e.getAttribute("data-row"),i=e.dataset.col||e.getAttribute("data-col");x[o][i]=r,add_class(e,r),remove_class(e,"empty"),((A=!A)?w:S)(),C.history[C.historyCounter]={marker:r,rowPos:o,colPos:i,inner:"p",delete:"strike"},C.historyCounter++;var s=function(){var t;switch(o+i){case"00":t="top leftmost";break;case"01":t="top middle";break;case"02":t="top rightmost";break;case"10":t="middle leftmost";break;case"11":t="middle";break;case"12":t="middle rightmost";break;case"20":t="bottom leftmost";break;case"21":t="bottom middle";break;case"22":t="bottom rightmost"}return t};console.log("Move ".concat(C.historyCounter,": Player ").concat(C.history[C.historyCounter-1].marker.toUpperCase()," puts their mark on the ").concat(s()," box."));var a=create_el("p");id("history-wrap").appendChild(a),a.innerHTML="".concat(C.historyCounter," = ").concat(r.toUpperCase()," => ").concat(s());for(var n=function(e){setTimeout(function(){var t=create_el("span");for(t.innerHTML="l",id(e).appendChild(t),H=4;H<id(e).querySelectorAll("span").length;H+=5)add_class(id(e).querySelectorAll("span")[H-1],"five"),add_class(id(e).querySelectorAll("span")[H-1],"img"),add_class(id(e).querySelectorAll("span")[H-1],"con"),id(e).querySelectorAll("span")[H].innerHTML=" - "},250)},l=function(){9==C.history.length?(id("tooltip").innerHTML="It's a draw!",console.log("The players ended in a draw."),n("draw")):(id("tooltip").innerHTML="Player ".concat(r.toUpperCase()," wins!"),console.log("Player ".concat(r.toUpperCase()," is the winner!")),n(r))},h=0;h<x.length;h++){var c=x[h][0],d=x[h][1],y=x[h][2];if(c&&c===d&&d===y)return T(),void l()}for(var p=0;p<x.length;p++){var m=x[0][p],u=x[1][p],g=x[2][p];if(m&&m===u&&u===g)return T(),void l()}var _=x[0][0],b=x[2][2],v=x[0][2],f=x[2][0],k=x[1][1];(_&&_===b&&b===k||v&&v===f&&f==k)&&(T(),l()),9==C.history.length&&(T(),l())}remove_event(t.target||t.srcElement,"click",M)}qsel_all(".box").forEach(function(t){add_event(t,"click",M)});function r(){q=!1,x=[["","",""],["","",""],["","",""]],C.history=[],C.historyCounter=0,C.historyStorage=[],t(),e(),console.clear(),id("history-wrap").innerHTML="",qsel_all(".box").forEach(function(t){add_event(t,"click",M),add_class(t,"empty"),remove_class(t,"x"),remove_class(t,"o")}),remove_class(id("prev-btn"),"show"),remove_class(id("next-btn"),"show")}add_event(id("reset-btn"),"click",r),add_event(id("newGame-btn"),"click",function(){r(),remove_class(id("modal"),"hide"),id("mark-checker").checked=!1,t(),id("mark-holder-wrap").querySelectorAll("p")[0].id="x",id("mark-holder-wrap").querySelectorAll("p")[1].id="o",id("mark-holder1").innerHTML="X",id("mark-holder2").innerHTML="O",id("x").innerHTML="<q id='mark-holder1'>X</q> =&nbsp;",id("o").innerHTML="<q id='mark-holder2'>O</q> =&nbsp;",id("draw").innerHTML="<q>Draws</q> =&nbsp;"}),add_event(id("prev-btn"),"click",function(){C.prevHistory()}),add_event(id("next-btn"),"click",function(){C.nextHistory()}),add_event(id("history"),"click",function(){toggle_class(id("board-wrap"),"hide")})});