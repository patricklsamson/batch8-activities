"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}doc_ready(function(){function g(){add_class(id("tboard"),"o"),remove_class(id("tboard"),"x"),id("tooltip").innerHTML="Player O's turn."}function w(){add_class(id("tboard"),"x"),remove_class(id("tboard"),"o"),id("tooltip").innerHTML="Player X's turn."}function e(){k=!1,id("player").innerHTML="X",(k?g:w)()}var k,t,A=!1,T=[["","",""],["","",""],["","",""]],x=[],C=0,r=[],H=[],a=[];e(),add_event(id("mark-checker"),"click",function(){id("mark-checker").checked?(k=!0,id("player").innerHTML="O",g()):(k=!1,id("player").innerHTML="X",w())}),add_event(id("proceed-btn"),"click",function(){add_class(id("modal"),"hide")});function M(){for(A=!0,remove_class(id("tboard"),"x"),remove_class(id("tboard"),"o"),add_class(id("prev-btn"),"show"),t=0;t<qsel_all(".box").length;t++)qsel_all(".box")[t].style.cursor="auto"}function L(e){if(!A){var t=e.target||e.srcElement,r=k?"o":"x",a=t.dataset.row||t.getAttribute("data-row"),o=t.dataset.col||t.getAttribute("data-col");T[a][o]=r,add_class(t,r),remove_class(t,"empty"),((k=!k)?g:w)(),x[C]=[C,r,a,o,"p","strike"],C++;var n=function(){var e;switch(a+o){case"00":e="top leftmost";break;case"01":e="top middle";break;case"02":e="top rightmost";break;case"10":e="middle leftmost";break;case"11":e="middle";break;case"12":e="middle rightmost";break;case"20":e="bottom leftmost";break;case"21":e="bottom middle";break;case"22":e="bottom rightmost"}return e};console.log("Move ".concat(C,": Player ").concat(r.toUpperCase()," puts their mark on the ").concat(n()," box."));var l=create_el("p");id("history-wrap").appendChild(l),l.innerHTML="".concat(C," = ").concat(r.toUpperCase()," => ").concat(n()),H.push([r,a,o]);for(var c=0;c<T.length;c++){var s=T[c][0],i=T[c][1],d=T[c][2];if(s&&s===i&&i===d)return M(),id("tooltip").innerHTML="Player ".concat(r.toUpperCase()," is the winner!"),void console.log("Player ".concat(r.toUpperCase()," is the winner!"))}for(var p=0;p<T.length;p++){var h=T[0][p],b=T[1][p],_=T[2][p];if(h&&h===b&&b===_)return M(),id("tooltip").innerHTML="Player ".concat(r.toUpperCase()," is the winner!"),void console.log("Player ".concat(r.toUpperCase()," is the winner!"))}var m=T[0][0],u=T[2][2],y=T[0][2],v=T[2][0],f=T[1][1];(m&&m===u&&u===f||y&&y===v&&v==f)&&(M(),id("tooltip").innerHTML="Player ".concat(r.toUpperCase()," is the winner!"),console.log("Player ".concat(r.toUpperCase()," is the winner!"))),9==H.length&&(M(),id("tooltip").innerHTML="It's a draw!",console.log("The players ended in a draw."))}remove_event(e.target||e.srcElement,"click",L)}qsel_all(".box").forEach(function(e){add_event(e,"click",L)}),add_event(id("reset-btn"),"click",function(){A=!1,T=[["","",""],["","",""],["","",""]],x=[],C=0,H=[],storage=[],console.clear(),id("history-wrap").innerHTML="",remove_class(id("modal"),"hide"),id("mark-checker").checked=!1,e(),qsel_all(".box").forEach(function(e){add_event(e,"click",L),add_class(e,"empty"),remove_class(e,"x"),remove_class(e,"o"),e.style.cursor="pointer"}),remove_class(id("prev-btn"),"show"),remove_class(id("next-btn"),"show")}),add_event(id("prev-btn"),"click",function(){for(a.push.apply(a,_toConsumableArray(H.splice(H.length-1,1))),t=0;t<a.length;t++)remove_class(qsel('[data-row="'.concat(a[t][1],'"][data-col="').concat(a[t][2],'"]')),a[t][0]);for(a.length<H.length&&add_class(id("next-btn"),"show"),0==H.length&&remove_class(id("prev-btn"),"show"),r.push.apply(r,_toConsumableArray(x.splice(x.length-1,1))),t=0;t<r.length;t++)add_class(id("history-wrap").querySelectorAll(r[t][4])[r[t][0]],r[t][5])}),add_event(id("next-btn"),"click",function(){for(H.push.apply(H,_toConsumableArray(a.splice(a.length-1,1))),t=0;t<H.length;t++)add_class(qsel('[data-row="'.concat(H[t][1],'"][data-col="').concat(H[t][2],'"]')),H[t][0]);for(H.length<a.length&&add_class(id("prev-btn"),"show"),0==a.length&&remove_class(id("next-btn"),"show"),x.push.apply(x,_toConsumableArray(r.splice(r.length-1,1))),t=0;t<x.length;t++)remove_class(id("history-wrap").querySelectorAll(x[t][4])[x[t][0]],x[t][5])})});